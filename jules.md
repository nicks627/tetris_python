# jules.md: AIコーディングエージェント Jules 向け テトリス開発依頼書

## 1. 概要 (Overview)

このドキュメントは、GoogleのAIコーディングエージェント「Jules」に対し、Pythonと`pygame`ライブラリを使用して、古典的なパズルゲーム「テトリス」を開発するタスクを依頼するものです。

## 2. 開発要件 (Development Requirements)

### 2.1. ターゲット言語とフレームワーク

* **プログラミング言語:** Python
* **GUIライブラリ:** `pygame`

### 2.2. ゲームの仕様 (Game Specifications)

#### 2.2.1. 画面構成 (Screen Layout)

* **ウィンドウサイズ:** 500x700ピクセル
* **プレイフィールド:**
    * 画面中央に配置。
    * サイズ: 10列 x 20行
    * 1ブロックあたりのサイズ: 30x30ピクセル
* **情報パネル:**
    * プレイフィールドの右側に配置。
    * **スコア表示:** `SCORE: [現在のスコア]`
    * **レベル表示:** `LEVEL: [現在のレベル]`
    * **消去ライン数表示:** `LINES: [消去したライン数]`
    * **次のブロック表示 (NEXT):** 次に出現するテトリミノをプレビュー表示。
    * **ゲームオーバーメッセージ:** ゲーム終了時に `GAME OVER` と表示。

#### 2.2.2. ゲームロジック (Game Logic)

* **テトリミノ:**
    * I, O, T, S, Z, J, Lの7種類を定義。各テトリミノは異なる色とする。
    * テトリミノの形状は、回転に対応できるようにデータ構造を設計する。
* **操作:**
    * 左矢印キー (←): テトリミノを左へ移動。
    * 右矢印キー (→): テトリミノを右へ移動。
    * 下矢印キー (↓): テトリミノを1マス下にソフトドロップ。
    * 上矢印キー (↑) or Xキー: テトリミノを時計回りに90度回転。
    * Zキー: テトリミノを反時計回りに90度回転。
    * スペースキー (Space): テトリミノを一番下までハードドロップ。
* **ゲームの流れ:**
    * ゲーム開始時、ランダムなテトリミノが上部中央から落下を開始する。
    * プレイヤーはキーボードでテトリミノを操作する。
    * テトリミノが地面または他のブロックに接触したら、その場に固定される。
    * 固定された後、横一列がすべて埋まるとそのラインが消去され、スコアが加算される。
    * ラインが消去された後、上のブロックは1マス下に移動する。
    * ブロックがプレイフィールドの上端に達したらゲームオーバー。
* **スコアとレベル:**
    * 1ライン消去: 100点
    * 2ライン同時消去: 300点
    * 3ライン同時消去: 500点
    * 4ライン同時消去 (テトリス): 800点
    * 10ライン消去するごとにレベルが1上がり、落下速度が速くなる。

## 3. Jules へのプロンプト例と進め方 (Prompts and Workflow)

### 3.1. 開発の進め方について

Julesへのプロンプトは、**段階的に入力する**ことを強くお勧めします。一度にすべての要件を伝えると、複雑なタスクのためエラーが発生する可能性が高くなります。以下のステップを順番に実行し、各ステップで生成されたコードが正しく動作することを確認しながら進めてください。

### 3.2. ステップごとのプロンプト例

#### **ステップ1: 初期プロジェクトのセットアップ**

まず、ゲームの土台となるウィンドウと基本的なゲームループを作成します。
